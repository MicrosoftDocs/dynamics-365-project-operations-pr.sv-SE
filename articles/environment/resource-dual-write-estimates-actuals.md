---
title: Projektberäkningar och integration med faktiska värden
description: Detta avsnitt innehåller information om Project Operations-integration med dubbelriktad skrivning för projektberäkningar och faktiska värden.
author: sigitac
manager: Annbe
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: 88df3385fac0a78a827d65a77d3b04c9d6499536
ms.sourcegitcommit: 02f00960198cc78a5e96955a9e4390c2c6393bbf
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/28/2021
ms.locfileid: "5955844"
---
# <a name="project-estimates-and-actuals-integration"></a><span data-ttu-id="f9040-103">Projektberäkningar och integration med faktiska värden</span><span class="sxs-lookup"><span data-stu-id="f9040-103">Project estimates and actuals integration</span></span>

<span data-ttu-id="f9040-104">_**Gäller:** Project Operations för resursscenarier/icke lagerbaserade scenarier_</span><span class="sxs-lookup"><span data-stu-id="f9040-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="f9040-105">Detta avsnitt innehåller information om Project Operations-integration med dubbelriktad skrivning för projektberäkningar och faktiska värden.</span><span class="sxs-lookup"><span data-stu-id="f9040-105">This topic provides information about Project Operations dual-write integration for project estimates and actuals.</span></span>

## <a name="project-estimates"></a><span data-ttu-id="f9040-106">Projektberäkningar</span><span class="sxs-lookup"><span data-stu-id="f9040-106">Project estimates</span></span>

<span data-ttu-id="f9040-107">Projektarbete, utgifter och materialberäkningar skapas och underhålls i Microsoft Dataverse och synkroniseras med Finance and Operations-appar för redovisningsändamål.</span><span class="sxs-lookup"><span data-stu-id="f9040-107">Project labor, expense, and material estimates are created and maintained in Microsoft Dataverse and synchronized to Finance and Operations apps for accounting purposes.</span></span> <span data-ttu-id="f9040-108">Åtgärder för att skapa, uppdatera och radera stöds inte i Finance and Operations-apparna.</span><span class="sxs-lookup"><span data-stu-id="f9040-108">Create, update, and delete operations aren't supported through the Finance and Operations apps.</span></span>

<span data-ttu-id="f9040-109">För att skapa beräkningar krävs en giltig redovisningskonfiguration för projektet.</span><span class="sxs-lookup"><span data-stu-id="f9040-109">Creating estimates requires a valid accounting configuration for the project.</span></span> <span data-ttu-id="f9040-110">Projekt som är kopplade till kontraktrader måste ha giltig projektkostnads- och intäktsprofil definierad i reglerna för projektkostnads- och intäktsprofil.</span><span class="sxs-lookup"><span data-stu-id="f9040-110">Projects that are associated with contract lines must have a valid project cost and revenue profile defined in the Project cost and revenue profile rules.</span></span> <span data-ttu-id="f9040-111">Mer information finns i [Konfigurera redovisning av fakturerbara projekt](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span><span class="sxs-lookup"><span data-stu-id="f9040-111">For more information, see [Configure accounting for billable projects](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span></span>

## <a name="labor-estimates"></a><span data-ttu-id="f9040-112">Arbetsberäkningar</span><span class="sxs-lookup"><span data-stu-id="f9040-112">Labor estimates</span></span>

<span data-ttu-id="f9040-113">Arbetsberäkningar skapas av projektledaren eller resursadministratören som också tilldelar en allmän eller namngiven resurs till projektuppgiften.</span><span class="sxs-lookup"><span data-stu-id="f9040-113">Labor estimates are created by the Project Manager or Resource manager who also assigns a generic or named resource to the project task.</span></span> <span data-ttu-id="f9040-114">Resurstilldelningsposter kan granskas på fliken **Resurstilldelningar** på sidan **Projektinformation** i Dataverse.</span><span class="sxs-lookup"><span data-stu-id="f9040-114">Resource assignment records can be reviewed on the **Resource Assignments** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="f9040-115">Resurstilldelningsposter i Dataverse skapar timprognosposter i Finance and Operations-appar med entiteter för **Project Operations-integration för tidsberäkningar (msdyn\_resourceassignments)**.</span><span class="sxs-lookup"><span data-stu-id="f9040-115">Resource assignment records in Dataverse create hour forecast records in Finance and Operations apps using **Project Operations integration entity for hour estimates (msdyn\_resourceassignments)**.</span></span>

   ![Integration av arbetsberäkningar](./Media/DW4LaborEstimates.png)

<span data-ttu-id="f9040-117">Dubbelriktad skrivning synkroniserar resurstilldelningsposter till mellanlagringstabellen (**ProjCDSEstimateHoursImport**) och affärslogiken används sedan för att skapa och uppdatera timprognosposter (**ProjForecastEmpl**).</span><span class="sxs-lookup"><span data-stu-id="f9040-117">Dual-write synchronizes resource assignment records to the staging table (**ProjCDSEstimateHoursImport**), and then uses business logic to create and update hour forecast records (**ProjForecastEmpl**).</span></span>

<span data-ttu-id="f9040-118">Projektredovisaren granskar poster för prognostiserad tid som har skapats i Finance and Operations-appar genom att gå till **Projektledning och redovisning** > **Alla projekt** > **Planera** > **Tidsprognoser**.</span><span class="sxs-lookup"><span data-stu-id="f9040-118">The Project accountant reviews forecast hour records created in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Hour forecasts**.</span></span>

## <a name="expense-estimates"></a><span data-ttu-id="f9040-119">Utgiftsberäkningar</span><span class="sxs-lookup"><span data-stu-id="f9040-119">Expense estimates</span></span>

<span data-ttu-id="f9040-120">Kostnadsberäkningar skapas av projektledaren på fliken **Kostnadsberäkningar** på sidan **Projektinformation** i Dataverse.</span><span class="sxs-lookup"><span data-stu-id="f9040-120">Expense estimates are created by the Project manager on the **Expense Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="f9040-121">Kostnadsberäkningsposter lagras i entiteten **Beräkningsrad** i Dataverse.</span><span class="sxs-lookup"><span data-stu-id="f9040-121">Expense estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="f9040-122">Dessa beräkningsposter har transaktionsklassen **Utgift** och synkroniseras med kostnadsprognosposter i Finance and Operations-appar med entiteten **Project Operations-integrationsentitet för kostnadsberäkningar (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="f9040-122">These estimate records have transaction class, **Expense** and are synchronized to expense forecast records in Finance and Operations apps using **Project Operations integration entity for expense estimates (msdyn\_estimatelines)**.</span></span>

   ![Integration av kostnadsberäkningar](./Media/DW4ExpenseEstimates.png)

<span data-ttu-id="f9040-124">Dubbelriktad skrivning synkroniserar kostnadsberäkningsposter till mellanlagringstabellen **(ProjCDSEstimateExpenseImport)** och affärslogiken används sedan för att skapa och uppdatera kostnadsprognosposter (**ProjForecastCost**).</span><span class="sxs-lookup"><span data-stu-id="f9040-124">Dual-write synchronizes expense estimate records to the staging table, **ProjCDSEstimateExpenseImport)** and then uses business logic to create and update expense forecast records (**ProjForecastCost**).</span></span> <span data-ttu-id="f9040-125">Beräkningsrader lagrar försäljningsberäknings- och kostnadsberäkningsposter separat.</span><span class="sxs-lookup"><span data-stu-id="f9040-125">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="f9040-126">Affärslogiken i Finance and Operations-apparna fyller i en enskild kostnadsprognospost med hjälp av den här uppgiften i mellanlagringstabellen.</span><span class="sxs-lookup"><span data-stu-id="f9040-126">The business logic in Finance and Operations apps populates a single Expense forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="f9040-127">Projektredovisaren kan granska kostnadsprognosposter i Finance and Operations-appar genom att gå till **Projektledning och redovisning** > **Alla projekt** > **Planera** > **Kostnadsprognoser**.</span><span class="sxs-lookup"><span data-stu-id="f9040-127">The Project accountant can review expense forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Expense forecasts**.</span></span>

## <a name="material-estimates"></a><span data-ttu-id="f9040-128">Materialberäkningar</span><span class="sxs-lookup"><span data-stu-id="f9040-128">Material estimates</span></span>

<span data-ttu-id="f9040-129">Materialberäkningar skapas av projektledaren på fliken **Materialberäkningar** på sidan **Projektinformation** i Dataverse.</span><span class="sxs-lookup"><span data-stu-id="f9040-129">Material estimates are created by the Project manager on the **Material Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="f9040-130">Materialberäkningsposter lagras i entiteten **Beräkningsrad** i Dataverse.</span><span class="sxs-lookup"><span data-stu-id="f9040-130">Material estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="f9040-131">Dessa beräkningsposter har transaktionsklassen **Material** och synkroniseras med artikelprognosposter i Finance and Operations-appar med entiteten **Project Operations-integrationstabell för materialberäkningar (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="f9040-131">These estimate records have the transaction class, **Material** and are synchronized to item forecast records in Finance and Operations apps using **Project integration table for material estimates (msdyn\_estimatelines)**.</span></span>

   ![Integration av materialberäkningar](./Media/DW4MaterialEstimates.png)

<span data-ttu-id="f9040-133">Dubbelriktad skrivning synkroniserar materialberäkningsposter till mellanlagringstabellen **ProjForecastSalesImpor** och affärslogiken används sedan för att skapa och uppdatera artikelprognosposter (**ForecastSales**).</span><span class="sxs-lookup"><span data-stu-id="f9040-133">Dual-write synchronizes material estimate records to the staging table **ProjForecastSalesImpor**, and then uses business logic to create and update item forecast records (**ForecastSales**).</span></span> <span data-ttu-id="f9040-134">Beräkningsrader lagrar försäljningsberäknings- och kostnadsberäkningsposter separat.</span><span class="sxs-lookup"><span data-stu-id="f9040-134">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="f9040-135">Affärslogiken i Finance and Operations-apparna fyller i en enskild artikelprognospost med hjälp av den här uppgiften i mellanlagringstabellen.</span><span class="sxs-lookup"><span data-stu-id="f9040-135">The business logic in Finance and Operations apps populates a single Item forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="f9040-136">Projektredovisaren kan granska artikelprognosposter i Finance and Operations-appar genom att gå till **Projektledning och redovisning** > **Alla projekt** > **Planera** > **Artikelprognoser**.</span><span class="sxs-lookup"><span data-stu-id="f9040-136">The Project accountant can review item forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Item forecasts**.</span></span>

## <a name="project-actuals"></a><span data-ttu-id="f9040-137">Verkliga värden för projekt</span><span class="sxs-lookup"><span data-stu-id="f9040-137">Project actuals</span></span>

<span data-ttu-id="f9040-138">Faktiska värden för projekt skapas i Dataverse baserade på tid, kostnader, material och faktureringsaktivitet.</span><span class="sxs-lookup"><span data-stu-id="f9040-138">Project actuals are created in Dataverse, based on time, expense, material, and billing activity.</span></span> <span data-ttu-id="f9040-139">Alla verksamhetsattribut för dessa transaktioner, inklusive kvantitet, självkostnad, försäljningspris och projekt, fångas upp i den här Dataverse-entiteten.</span><span class="sxs-lookup"><span data-stu-id="f9040-139">All operational attributes of these transactions including quantity, cost price, sales price, and project are captured in this Dataverse entity.</span></span> <span data-ttu-id="f9040-140">Mer information finns i [Faktiska värden](../actuals/actuals-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f9040-140">For more information, see [Actuals](../actuals/actuals-overview.md).</span></span> <span data-ttu-id="f9040-141">Faktiska poster synkroniseras med Finance and Operations-appar med tabellmappningen dubbelriktad skrivning **Faktiska värden för Project Operations-integration (msdyn\_actuals)** för nedströms redovisning.</span><span class="sxs-lookup"><span data-stu-id="f9040-141">Actual records are synchronized to Finance and Operations apps using the dual-write table map **Project Operations integration actuals (msdyn\_actuals)** for downstream accounting.</span></span>

   ![Integration av faktiska värden](./Media/DW4Actuals.png)

<span data-ttu-id="f9040-143">Tabellmappningen **Faktiska värden för Project Operations-integration** synkroniserar alla poster från entiteten **Faktiska värden** i Dataverse som har attributet **Hoppa över synkronisering (endast intern användning)** inställt som **False**.</span><span class="sxs-lookup"><span data-stu-id="f9040-143">The **Project Operations integration actuals** table map synchronizes all the records from the **Actuals** entity in Dataverse, with the attribute **Skip Sync (internal use only)** set to **False**.</span></span> <span data-ttu-id="f9040-144">Attributvärdet anges automatiskt i Dataverse när posten skapas.</span><span class="sxs-lookup"><span data-stu-id="f9040-144">This attribute value is set in Dataverse automatically when the record is created.</span></span> <span data-ttu-id="f9040-145">Exempel på när attributet har angetts som **True** är:</span><span class="sxs-lookup"><span data-stu-id="f9040-145">Examples where this attribute is set to **True** are:</span></span>

  - <span data-ttu-id="f9040-146">Faktiska värden för projektkostnad för koncerninterna transaktioner.</span><span class="sxs-lookup"><span data-stu-id="f9040-146">Project cost actuals for intercompany transactions.</span></span> <span data-ttu-id="f9040-147">Mer information finns i [Skapa koncerninterna transaktioner](../project-accounting/create-intercompany-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="f9040-147">For more information, see [Create intercompany transactions](../project-accounting/create-intercompany-transactions.md).</span></span> <span data-ttu-id="f9040-148">Dessa poster hoppas över eftersom systemet återskapar faktiskt värde för projektkostnaden i Finance and Operations-appar när den koncerninterna leverantörsfakturan registreras.</span><span class="sxs-lookup"><span data-stu-id="f9040-148">These records are skipped because the system recreates the project cost actual in Finance and Operations apps when the intercompany vendor invoice is posted.</span></span>
  - <span data-ttu-id="f9040-149">Negativa ofakturerade försäljningsposter skapas när proformafakturan bekräftas.</span><span class="sxs-lookup"><span data-stu-id="f9040-149">Negative unbilled sales records created when the proforma invoice is confirmed.</span></span> <span data-ttu-id="f9040-150">Dessa poster hoppas över eftersom projektets delredovisning i Finance and Operations-appar inte vänder den ofakturerade försäljningsposten vid fakturering utan ändrar status till helt fakturerad.</span><span class="sxs-lookup"><span data-stu-id="f9040-150">These records are skipped because the project subledger in Finance and Operations apps doesn't reverse the unbilled sales record at invoicing but changes the status to fully invoiced.</span></span>

<span data-ttu-id="f9040-151">Tabellmappningen med dubbelriktad skrivning synkroniserar faktiska värden för poster till mellanlagringstabellen **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="f9040-151">The dual-write table map synchronizes the actuals records to the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="f9040-152">Dessa poster bearbetas av den regelbundna processen **Import från mellanlagringstabell** när journalrader och projektfakturaförslagsrader för Project Operations-integration skapas.</span><span class="sxs-lookup"><span data-stu-id="f9040-152">These records are processed by the periodic process **Import from staging table** when creating Project Operations integration journal lines and project invoice proposal lines.</span></span> <span data-ttu-id="f9040-153">Mer information finns i [Integration av journal i Project Operations](../project-accounting/project-operations-integration-journal.md).</span><span class="sxs-lookup"><span data-stu-id="f9040-153">For more information, see [Integration journal in Project Operations](../project-accounting/project-operations-integration-journal.md).</span></span>

<span data-ttu-id="f9040-154">Dataverse samlar även in länkar mellan projektets faktiska transaktioner i entiteten **Transaktionskoppling**.</span><span class="sxs-lookup"><span data-stu-id="f9040-154">Dataverse also captures the links between the project actual transactions in the **Transaction connection** entity.</span></span> <span data-ttu-id="f9040-155">Mer information finns i [Länka faktiska värden till ursprungliga poster](../actuals/linkingactuals.md).</span><span class="sxs-lookup"><span data-stu-id="f9040-155">For more information, see [Link actuals to original records](../actuals/linkingactuals.md).</span></span> <span data-ttu-id="f9040-156">Länkar mellan faktiska transaktioner synkroniseras också till Finance and Operations-appar med tabellmappningen med dubbelriktad skrivning **Integrationsentitet för projekttransaktionsrelationer (msdyn\_transactionconnections)**.</span><span class="sxs-lookup"><span data-stu-id="f9040-156">Links between actual transactions are also synchronized to Finance and Operations apps using the dual-write table map, **Integration entity for project transaction relationships (msdyn\_transactionconnections)**.</span></span> <span data-ttu-id="f9040-157">Dessa poster används av den regelbundna processen **Import från mellanlagringstabell** när journalrader och projektfakturaförslagsrader för Project Operations-integration skapas.</span><span class="sxs-lookup"><span data-stu-id="f9040-157">These records are used by the periodic process, **Import from staging table** when creating Project Operations integration journal lines and Project invoice proposal lines.</span></span>

<span data-ttu-id="f9040-158">Om du publicerar en Project Operations-integrationsjournal och ett projektfakturaförslag utlöses en uppdatering i respektive poster i mellanlagringstabellen, **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="f9040-158">Posting a Project Operations integration journal and a project invoice proposal triggers an update in respective records in the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="f9040-159">Följande redovisningsattribut för faktiska transaktioner fångas upp och registreras i systemet:</span><span class="sxs-lookup"><span data-stu-id="f9040-159">The system captures and records the following accounting attributes for actuals transactions:</span></span>

- <span data-ttu-id="f9040-160">Belopp i redovisningsvaluta</span><span class="sxs-lookup"><span data-stu-id="f9040-160">Accounting currency amount</span></span>
- <span data-ttu-id="f9040-161">Växelkurs</span><span class="sxs-lookup"><span data-stu-id="f9040-161">Exchange rate</span></span>
- <span data-ttu-id="f9040-162">Verifikationsnummer</span><span class="sxs-lookup"><span data-stu-id="f9040-162">Voucher number</span></span>
- <span data-ttu-id="f9040-163">Momsbelopp</span><span class="sxs-lookup"><span data-stu-id="f9040-163">Sales tax amount</span></span>

<span data-ttu-id="f9040-164">Tabellmappningen **Faktiska värden för Project Operations-integration** uppdaterar motsvarande faktiska poster i Dataverse med den här informationen.</span><span class="sxs-lookup"><span data-stu-id="f9040-164">The **Project Operations integration actuals** table map updates respective actuals records in Dataverse with this information.</span></span>
