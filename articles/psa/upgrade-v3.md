---
title: Att tänka på när du uppgraderar - Microsoft Dynamics 365 Project Service Automation version 2.x eller 1.x till version 3
description: I det här ämnet finns information om hur du uppgraderar från Project Service Automation version 2.x eller 1.x till version 3.
manager: kfend
ms.service: dynamics-365-customerservice
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 19d6d312c7cedd2d7b9b5649452b85dd24fae761
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/16/2020
ms.locfileid: "4085620"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="84ea9-103">Att tänka på när du uppgraderar - PSA-version 2.x eller 1.x till version 3</span><span class="sxs-lookup"><span data-stu-id="84ea9-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="84ea9-104">Project Service Automation och Field Service</span><span class="sxs-lookup"><span data-stu-id="84ea9-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="84ea9-105">Både Dynamics 365 Project Service Automation och Dynamics 365 Field Service använder URS-lösningen (Universal Resourcing Scheduling) för resursschemaläggning.</span><span class="sxs-lookup"><span data-stu-id="84ea9-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="84ea9-106">Om du har både Project Service Automation och Field Service i din instans bör du planera för att uppgradera båda lösningarna till den senaste versionen (version 3.x för Project Service Automation, version 8.x för Field Service).</span><span class="sxs-lookup"><span data-stu-id="84ea9-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="84ea9-107">Uppgradering av Project Service Automation eller Field Service kommer att installera den senaste versionen av URS, vilket innebär att inkonsekvent beteende är möjlig om både Project Service Automation och Field Service-lösningar i samma instans inte uppgraderas till den senaste versionen.</span><span class="sxs-lookup"><span data-stu-id="84ea9-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="84ea9-108">Resurstilldelningar</span><span class="sxs-lookup"><span data-stu-id="84ea9-108">Resource assignments</span></span>
<span data-ttu-id="84ea9-109">I Project Service Automation version 2 och version 1, sparades uppgiftstilldelningar som underordnade uppgifter (kallas även raduppgifter) i **uppgiftsentiteten** och relaterade indirekt till entiteten **Resurstilldelning**.</span><span class="sxs-lookup"><span data-stu-id="84ea9-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity** , and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="84ea9-110">Raduppgiften visas i popup-fönstret för tilldelning i strukturen för Work Breakdown Structure (WBS).</span><span class="sxs-lookup"><span data-stu-id="84ea9-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Raduppgifter i WBS i Project Service Automation version 2 och version 1](media/upgrade-line-task-01.png)

<span data-ttu-id="84ea9-112">I version 3 av Project Service Automation har det underliggande schemat för tilldelning av bokningsbara resurser till aktiviteter ändrats.</span><span class="sxs-lookup"><span data-stu-id="84ea9-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="84ea9-113">Raduppgiften är inaktuell och det finns en direkt 1:1-relation mellan uppgiften i **uppgiftsentiteten** och teammedlemmen i entiteten **resurstilldelning**.</span><span class="sxs-lookup"><span data-stu-id="84ea9-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="84ea9-114">Uppgifter som tilldelas en projektmedlem lagras nu direkt i entiteten resurstilldelning.</span><span class="sxs-lookup"><span data-stu-id="84ea9-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="84ea9-115">Ändringarna påverkar uppgraderingen av befintliga projekt med resurstilldelningar för namngivna bokningsbara resurser och generiska resurser i ett projektteam.</span><span class="sxs-lookup"><span data-stu-id="84ea9-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="84ea9-116">I det här ämnet finns information om hur du kommer att behöva ta hänsyn till dina projekt när du uppgraderar till version 3.</span><span class="sxs-lookup"><span data-stu-id="84ea9-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="84ea9-117">Uppgifter tilldelade namngivna resurser</span><span class="sxs-lookup"><span data-stu-id="84ea9-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="84ea9-118">Med hjälp av den underliggande uppgiftsentiteten får uppgifter i version 2 och version 1 tillåtna teammedlemmar att framställa en roll som inte är definierad som standardroll.</span><span class="sxs-lookup"><span data-stu-id="84ea9-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="84ea9-119">Till exempel kan Karla Larsson, som tilldelas som standardrollen som programhanterare, tilldelas en aktivitet med rollen utvecklare.</span><span class="sxs-lookup"><span data-stu-id="84ea9-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="84ea9-120">I version 3 är rollen för en namngiven teammedlem alltid standard så därför använder uppgifter som är tilldelade Karla Larsson hennes standardroll i programhanteraren.</span><span class="sxs-lookup"><span data-stu-id="84ea9-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="84ea9-121">Om du har tilldelat en resurs till en uppgift utanför sin standardroll i version 2 och version 1, tilldelas den namngivna resursen standardrollen för alla aktivitetstilldelningar när du uppgraderar, oavsett rolltilldelning i version 2.</span><span class="sxs-lookup"><span data-stu-id="84ea9-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="84ea9-122">Detta innebär skillnader i beräknade uppskattningar från version 2 eller version 1 till version 3 eftersom uppskattningar beräknas utifrån resursens roll och inte tilldelningen av radens tilldelning av uppgifter.</span><span class="sxs-lookup"><span data-stu-id="84ea9-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="84ea9-123">Exempel: i version 2 har två uppgifter tilldelats Greta Andreasson.</span><span class="sxs-lookup"><span data-stu-id="84ea9-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="84ea9-124">Rollen för raduppgift för uppgift 1 är utvecklare och för uppgift 2, programhanterare.</span><span class="sxs-lookup"><span data-stu-id="84ea9-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="84ea9-125">Greta Andreasson har standardrollen programhanterare.</span><span class="sxs-lookup"><span data-stu-id="84ea9-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Flera roller som har tilldelats en resurs](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="84ea9-127">Eftersom rollerna för utvecklare och programhanterare skiljer sig åt är kostnads- och försäljningsberäkningarna följande:</span><span class="sxs-lookup"><span data-stu-id="84ea9-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Kostnadsuppskattningar för resursroller](media/upggrade-cost-estimates-03.png)

![Försäljningsuppskattningar för resursroller](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="84ea9-130">När du uppgraderar till version 3 ersätts raduppgifter med resurstilldelningar för uppgiften för den bokningsbara resursteammedlemmen.</span><span class="sxs-lookup"><span data-stu-id="84ea9-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="84ea9-131">Tilldelningen kommer att använda standardrollen för den bokningsbara resursen.</span><span class="sxs-lookup"><span data-stu-id="84ea9-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="84ea9-132">I följande bild är Greta Andreasson som har rollen programhanterare resursen.</span><span class="sxs-lookup"><span data-stu-id="84ea9-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Resurstilldelningar](media/resource-assignment-v2-05.png)

<span data-ttu-id="84ea9-134">Eftersom uppskattningarna bygger på standardrollen för resursen kan det hända att uppskattningar av försäljning och kostnad ändras.</span><span class="sxs-lookup"><span data-stu-id="84ea9-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="84ea9-135">Observera att rollen **utvecklare** i följande bild inte längre visas eftersom rollen nu tas från den bokningsbara resursens standardroll.</span><span class="sxs-lookup"><span data-stu-id="84ea9-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="84ea9-136">![Kostnadsuppskattningar för standardroller](media/resource-assignment-cost-estimate-06.png)
![Försäljningsuppskattningar för standardroller](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="84ea9-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="84ea9-137">När uppgraderingen är klar kan du redigera en teammedlems roll som någon annan än den tilldelade standarden.</span><span class="sxs-lookup"><span data-stu-id="84ea9-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="84ea9-138">Om du ändrar en roll för en teammedlem ändras den emellertid i alla tilldelade uppgifter, eftersom teammedlemmar inte längre får tilldelas flera roller i version 3.</span><span class="sxs-lookup"><span data-stu-id="84ea9-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Uppdatera en resursroll](media/resource-role-assignment-08.png)

<span data-ttu-id="84ea9-140">Detta gäller även för raduppgifter som tilldelats till namngivna resurser när du ändrar resursens organisationsenhet från standardenheten till en annan organisationsenhet.</span><span class="sxs-lookup"><span data-stu-id="84ea9-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="84ea9-141">När uppgraderingen av version 3 har slutförts använder tilldelningen resursens standardorganisationsenhet i stället för den som har angetts för raduppgiften.</span><span class="sxs-lookup"><span data-stu-id="84ea9-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="84ea9-142">Uppgifter tilldelade generiska resurser</span><span class="sxs-lookup"><span data-stu-id="84ea9-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="84ea9-143">I version 2 och version 1 kan du ange roll och organisationsenhet för en uppgift och sedan använda funktionen **generera team** för att generera generiska resurser utifrån de angivna attributen för uppgiften.</span><span class="sxs-lookup"><span data-stu-id="84ea9-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="84ea9-144">I version 3 skapar du allmänna teammedlemmar med roll och organisationsenhet och tilldelar teammedlemmarna till aktiviteter.</span><span class="sxs-lookup"><span data-stu-id="84ea9-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="84ea9-145">I version 2 och version 1 kan projekt med allmänna resurser vara i två steg, eller en blandning av båda på uppgiftsnivån.</span><span class="sxs-lookup"><span data-stu-id="84ea9-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="84ea9-146">Detta händer till exempel om du har följande scenarier:</span><span class="sxs-lookup"><span data-stu-id="84ea9-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="84ea9-147">Uppgifter med roller och organisationsenhetsuppsättningar men ingen resurstilldelning har genererats.</span><span class="sxs-lookup"><span data-stu-id="84ea9-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="84ea9-148">Uppgifter med de resurstilldelningar som tilldelats av en teammedlem, genom att skapa en generisk resurs med hjälp av funktionen **generera team**.</span><span class="sxs-lookup"><span data-stu-id="84ea9-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="84ea9-149">Innan du börjar uppgraderingen rekommenderar vi att du återskapar teamet för varje projekt som har tilldelats generiska resurser eller ännu inte har skapat en teamprocess.</span><span class="sxs-lookup"><span data-stu-id="84ea9-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="84ea9-150">För uppgifter som är tilldelade till generiska teammedlemmar och som genererats med **generera team** lämnar uppgraderingen den generiska resursen i teamet och lämnar tilldelningen till den generiska teammedlemmen.</span><span class="sxs-lookup"><span data-stu-id="84ea9-150">For tasks that are assigned to generic team members that were generated with **Generate Team** , the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="84ea9-151">Vi rekommenderar att du skapar resurskravet för den generiska teammedlemmen efter uppgraderingen, men innan du bokför eller skickar en resursbegäran.</span><span class="sxs-lookup"><span data-stu-id="84ea9-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="84ea9-152">Eventuella tilldelningar av organisationsenhet bevaras i de generiska teammedlemmar som skiljer sig från projektets avtalade organisationsenhet.</span><span class="sxs-lookup"><span data-stu-id="84ea9-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="84ea9-153">I projektets Z-projekt är till exempel den upphandlande organisationsenhet Contoso US.</span><span class="sxs-lookup"><span data-stu-id="84ea9-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="84ea9-154">I projektplanen har testuppgifterna i implementeringsfasen tilldelats rollen teknisk konsult och den tilldelade organisationsenheten är Contoso India.</span><span class="sxs-lookup"><span data-stu-id="84ea9-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Implementeringsfas för organisationstilldelning](media/org-unit-assignment-09.png)

<span data-ttu-id="84ea9-156">Efter implementeringsfasen tilldelas integrationstestaktiviteten till rollen teknisk konsult, men organisationen anges till Contoso US.</span><span class="sxs-lookup"><span data-stu-id="84ea9-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Integrering av testaktivitet för organisationstilldelning](media/org-unit-generate-team-10.png)

<span data-ttu-id="84ea9-158">När du skapar ett team för projektet skapas två generiska teammedlemmar på grund av de olika organisationsenheterna i uppgifterna.</span><span class="sxs-lookup"><span data-stu-id="84ea9-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="84ea9-159">Teknisk konsult 1 tilldelas de Contoso India-uppgifterna och teknisk konsult 2 tilldelas Contoso US-uppgifterna.</span><span class="sxs-lookup"><span data-stu-id="84ea9-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Genererade generiska teammedlemmar](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="84ea9-161">I Project Service Automation version 2 och version 1 innehåller teammedlemmen inte organisationsenheten som underhålls på raduppgiften.</span><span class="sxs-lookup"><span data-stu-id="84ea9-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Version 2 och version 1 raduppgifter i Project Service Automation](media/line-tasks-12.png)

<span data-ttu-id="84ea9-163">Du kan se organisationsenheten i vyn uppskattningar.</span><span class="sxs-lookup"><span data-stu-id="84ea9-163">You can see the organization unit on the estimates view.</span></span> 

![Organisationsenhetens uppskattningar](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="84ea9-165">När uppgraderingen är klar läggs organisationsenheten för den raduppgift som motsvarar den generiska teammedlemmen till i den generiska teammedlemmen och raduppgiften tas bort.</span><span class="sxs-lookup"><span data-stu-id="84ea9-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="84ea9-166">Innan du uppgraderar rekommenderar vi att du genererar eller återskapar teamet i varje projekt som innehåller generiska resurser.</span><span class="sxs-lookup"><span data-stu-id="84ea9-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="84ea9-167">För uppgifter som tilldelas en roll med en organisationsenhet som skiljer sig från organisationsenhet i det avtalade projektet och ett team inte har genererats, skapar uppgraderingen en generisk teammedlem för rollen, men kommer att använda den upphandlande enheten för projektmedlemmens organisationsenheter.</span><span class="sxs-lookup"><span data-stu-id="84ea9-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="84ea9-168">Om du refererar tillbaka till exemplet med Project Z innebär det att den upphandlande organisationsenheten Contoso US och projektplanen har tilldelats rollen teknisk konsult med den organisationsenhet som tilldelats Contoso India.</span><span class="sxs-lookup"><span data-stu-id="84ea9-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="84ea9-169">Integrering av testaktivitet som slutförs efter att implementeringsfasen har tilldelats rollen teknisk konsult.</span><span class="sxs-lookup"><span data-stu-id="84ea9-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="84ea9-170">Organisationsenheten är Contoso US och ett team har inte skapats.</span><span class="sxs-lookup"><span data-stu-id="84ea9-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="84ea9-171">Uppgradering skapar en generisk teammedlem, en teknisk konsult som har tilldelade timmar av alla tre aktiviteter och en organisationsenhet för Contoso US som är projektets upphandlande organisationsenhet.</span><span class="sxs-lookup"><span data-stu-id="84ea9-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="84ea9-172">Om du ändrar standardvärdet för de olika organisationsenheterna för resurser på icke-genererade teammedlemmar rekommenderar vi att du genererar eller återskapar teamet i varje projekt som innehåller generiska resurser innan du uppgraderar, så att tilldelningen av organisationsenhet inte bortfaller.</span><span class="sxs-lookup"><span data-stu-id="84ea9-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

